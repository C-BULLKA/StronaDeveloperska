<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Osiedle Na Ścieżki - TarnowskiDeveloper</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style_investments.css">
</head>
<body>
    <header class="header">
        <nav class="nav-container">
            <a href="index.html" class="logo">
                <img src="podstawowe_zdjęcia/logo_Tarnowski.jpg" alt="Logo TarnowskiDeveloper">
                DeveloperTarnów
            </a> <ul class="nav-menu">
                <li><a href="index.html#about" class="nav-link">O nas</a></li>
                <li><a href="index.html#investments" class="nav-link">Inwestycje</a></li>
                <li><a href="ogloszenia.php" class="nav-link">Ogłoszenia</a></li>
                <li><a href="index.html#contact" class="nav-link">Kontakt</a></li>
                <li><a href="index.html" class="back-link">
                    <i class="fas fa-arrow-left"></i> Powrót
                </a></li>
            </ul>
        </nav>
    </header>

    <section class="investment-hero">
        <div class="hero-container">
            <h1>Osiedle Na Ścieżki</h1>
            <p>Nowoczesne mieszkania w Koszycach Wielkich. Komfort życia w harmonii z naturą.</p>
        </div>
    </section>

    <section class="investment-info">
        <div class="info-container">
            <div class="investment-details">
                <h2>O inwestycji</h2>
                <p>Osiedle Na Ścieżki to nowoczesny kompleks mieszkaniowy składający się z 8 funkcjonalnych mieszkań o powierzchni od 55,62 do 59,75 m². Projekt charakteryzuje się przemyślaną architekturą.</p>
                
                <p>Każde mieszkanie zostało zaprojektowane z myślą o maksymalnym wykorzystaniu przestrzeni i naturalnego światła. Wysokiej jakości materiały wykończeniowe oraz nowoczesne rozwiązania gwarantują komfort na najwyższym poziomie.</p>
                
                <div class="investment-photos">
                    <img src="podstawowe_zdjęcia/K4.png" alt="Zdjęcie inwestycji 1" class="main-photo highlight-photo">
                    <img src="podstawowe_zdjęcia/K5.png" alt="Zdjęcie inwestycji 2" class="main-photo highlight-photo">
                </div>
            </div>
        
            <div class="investment-stats">
                <h3 class="stats-title">Informacje o inwestycji</h3>
                <div class="stat-row">
                    <span class="stat-label">Lokalizacja</span>
                    <span class="stat-value">Koszyce Wielkie, ul. Na Ścieżki</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Liczba mieszkań</span>
                    <span class="stat-value">8</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Liczba pięter</span>
                    <span class="stat-value">2</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Powierzchnia</span>
                    <span class="stat-value">55,62 do 59,75 m²</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Pokoje</span>
                    <span class="stat-value">5-6</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Status</span>
                    <span class="stat-value" style="color: var(--success-green);">W sprzedaży</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Termin realizacji</span>
                    <span class="stat-value">Q4 2026</span>
                </div>
            </div>
        </div>
    </section>
    
    <section class="pzt-section">
        <h2>Układ Mieszkań (PZT)</h2>
        <img src="podstawowe_zdjęcia/PZT poprawione.jpg" alt="Plan Zagospodarowania Terenu" class="pzt-image">
    </section>

    <section class="apartments-section">
        <div class="apartments-container">
            <h2 class="section-title">Dostępne mieszkania</h2>
            <p class="section-subtitle">Wybierz mieszkanie idealne dla Ciebie. Każdy lokal można obejrzeć i poznać szczegóły techniczne.</p>

            <div class="apartments-filters">
                <button class="filter-btn active" data-filter="all">Wszystkie</button>
                <button class="filter-btn" data-filter="5">5 pokoi</button>
                <button class="filter-btn" data-filter="6">6 pokoi</button>
                <button class="filter-btn" data-filter="available">Dostępne</button>
            </div>

            <div class="apartments-grid" id="apartmentsGrid">
                <div class="apartment-card" data-rooms="5" data-status="available">
                    <div class="apartment-image-container">
                        <img src="podstawowe_zdjęcia/parter_wiz.png" alt="Wizualizacja mieszkania L1">
                        <img src="podstawowe_zdjęcia/parter2d.jpg" alt="Rzut 2D mieszkania L1" class="hidden">
                        <div class="image-nav">
                            <button class="nav-btn prev-btn"><i class="fas fa-chevron-left"></i></button>
                            <button class="nav-btn next-btn"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <span class="apartment-badge">L1</span>
                    </div>
                    <div class="apartment-content">
                        <h3 class="apartment-title">Mieszkanie 5-pokojowe</h3>
                        <p class="apartment-floor">Parter</p>
                        
                        <div class="apartment-specs">
                            <div class="spec-item">
                                <div class="spec-value">5</div>
                                <div class="spec-label">pokoje</div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-value">55.62</div>
                                <div class="spec-label">m²</div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-value">Parter</div>
                                <div class="spec-label">piętro</div>
                            </div>
                        </div>

                        <div class="apartment-price">550 000 PLN</div>
                        <div class="price-per-sqm">9 888 PLN/m²</div>

                        <div class="apartment-actions">
                            <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;" 
                                 id="segment-buttons-L1">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="apartment-card" data-rooms="6" data-status="available">
                    <div class="apartment-image-container">
                        <img src="podstawowe_zdjęcia/pietro_wiz.png" alt="Wizualizacja mieszkania L2">
                        <img src="podstawowe_zdjęcia/pietro2d.jpg" alt="Rzut 2D mieszkania L2" class="hidden">
                        <div class="image-nav">
                            <button class="nav-btn prev-btn"><i class="fas fa-chevron-left"></i></button>
                            <button class="nav-btn next-btn"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <span class="apartment-badge">L2</span>
                    </div>
                    <div class="apartment-content">
                        <h3 class="apartment-title">Mieszkanie 6-pokojowe</h3>
                        <p class="apartment-floor">Piętro</p>
                        
                        <div class="apartment-specs">
                            <div class="spec-item">
                                <div class="spec-value">6</div>
                                <div class="spec-label">pokoje</div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-value">59.75</div>
                                <div class="spec-label">m²</div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-value">1</div>
                                <div class="spec-label">piętro</div>
                            </div>
                        </div>

                        <div class="apartment-price">600 000 PLN</div>
                        <div class="price-per-sqm">10 042 PLN/m²</div>

                        <div class="apartment-actions">
                            <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;" 
                                 id="segment-buttons-L2">
                                <!-- Przyciski segmentów będą wstawione dynamicznie -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="contact-section">
        <div class="contact-container">
            <h2>Masz pytania? Skontaktuj się z nami</h2>
            <p>Jesteśmy do Twojej dyspozycji od poniedziałku do piątku w godzinach 8:00-16:00</p>
            
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">
                        <i class="fas fa-phone-alt"></i>
                    </div>
                    <h4>Telefon</h4>
                    <p>+48 123 456 789</p>
                </div>
                <div class="contact-item">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h4>E-mail</h4>
                    <p>kontakt@tarnowskideveloper.pl</p>
                </div>
            </div>
        </div>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const apartments = document.querySelectorAll('.apartment-card');

            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Deactivate all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Activate the clicked button
                    button.classList.add('active');

                    const filter = button.getAttribute('data-filter');

                    apartments.forEach(apartment => {
                        const rooms = apartment.getAttribute('data-rooms');
                        const status = apartment.getAttribute('data-status');

                        let show = false;
                        if (filter === 'all') {
                            show = true;
                        } else if (filter === 'available' && status === 'available') {
                            show = true;
                        } else if (rooms === filter) {
                            show = true;
                        }

                        apartment.style.display = show ? 'block' : 'none';
                    });
                });
            });

            // Image switching logic
            const apartmentCards = document.querySelectorAll('.apartment-card');
            apartmentCards.forEach(card => {
                const images = card.querySelectorAll('.apartment-image-container img');
                const prevBtn = card.querySelector('.prev-btn');
                const nextBtn = card.querySelector('.next-btn');
                let currentIndex = 0;

                prevBtn.addEventListener('click', () => {
                    images[currentIndex].classList.add('hidden');
                    currentIndex = (currentIndex - 1 + images.length) % images.length;
                    images[currentIndex].classList.remove('hidden');
                });

                nextBtn.addEventListener('click', () => {
                    images[currentIndex].classList.add('hidden');
                    currentIndex = (currentIndex + 1) % images.length;
                    images[currentIndex].classList.remove('hidden');
                });
            });

            // Funkcja ładująca statusy segmentów i generująca przyciski
            function loadSegmentStatuses() {
                fetch('segment_status.json?t=' + new Date().getTime()) 
                    .then(response => response.json())
                    .then(data => {
                        updateSegmentButtons('L1', data.L1);
                        updateSegmentButtons('L2', data.L2);
                    })
                    .catch(error => {
                        console.error('Błąd ładowania statusów:', error);
                    });
            }

            function updateSegmentButtons(apartmentId, statusData) {
                const container = document.getElementById(`segment-buttons-${apartmentId}`);
                if (!container) return;

                container.innerHTML = ''; // Wyczyść kontener

                // Dla każdego segmentu (B1, B2, B3, B4) utwórz przycisk
                ['B1', 'B2', 'B3', 'B4'].forEach(segment => {
                    const status = statusData && statusData[segment] ? statusData[segment] : 'available';
                    const button = document.createElement('button');
                    button.className = `btn-segment status-${status}`;
                    button.textContent = segment;
                    container.appendChild(button);
                });
            }

            // Wywołaj funkcję ładującą statusy
            loadSegmentStatuses();

            // Lightbox dla zdjęć inwestycji i PZT
            function enableLightbox(selector) {
                document.querySelectorAll(selector).forEach(img => {
                    img.style.cursor = 'zoom-in';
                    img.addEventListener('click', function() {
                        let lightbox = document.getElementById('image-lightbox');
                        if (!lightbox) {
                            lightbox = document.createElement('div');
                            lightbox.id = 'image-lightbox';
                            lightbox.className = 'lightbox-overlay';
                            lightbox.innerHTML = `
                                <img id="lightbox-image" src="" alt="Powiększone zdjęcie">
                                <button class="lightbox-close-btn" style="position:absolute;top:20px;right:30px;font-size:2rem;background:none;border:none;color:white;cursor:pointer;">&times;</button>
                            `;
                            document.body.appendChild(lightbox);
                        }
                        const lightboxImage = lightbox.querySelector('#lightbox-image');
                        const lightboxCloseBtn = lightbox.querySelector('.lightbox-close-btn');
                        lightboxImage.src = img.src;
                        lightbox.classList.add('visible');
                        lightbox.style.display = 'flex';

                        // Zamknięcie lightbox
                        const closeLightbox = () => {
                            lightbox.classList.remove('visible');
                            lightbox.style.display = 'none';
                        };
                        lightboxCloseBtn.onclick = closeLightbox;
                        lightbox.onclick = function(e) {
                            if (e.target === lightbox) closeLightbox();
                        };
                        document.addEventListener('keydown', function escListener(e) {
                            if (e.key === 'Escape') {
                                closeLightbox();
                                document.removeEventListener('keydown', escListener);
                            }
                        });
                    });
                });
            }
            enableLightbox('.investment-photos img');
            enableLightbox('.pzt-image');
            enableApartmentLightbox(); // Użyj nowej funkcji dla mieszkań
        });

        function enableApartmentLightbox() {
            document.querySelectorAll('.apartment-card').forEach(card => {
                const images = Array.from(card.querySelectorAll('.apartment-image-container img'));
                images.forEach((img, idx) => {
                    img.style.cursor = 'zoom-in';
                    img.addEventListener('click', function() {
                        let lightbox = document.getElementById('image-lightbox');
                        if (!lightbox) {
                            lightbox = document.createElement('div');
                            lightbox.id = 'image-lightbox';
                            lightbox.className = 'lightbox-overlay';
                            lightbox.innerHTML = `
                                <button class="lightbox-prev-btn" style="position:absolute;left:30px;top:50%;transform:translateY(-50%);font-size:2rem;background:none;border:none;color:white;cursor:pointer;">&#10094;</button>
                                <img id="lightbox-image" src="" alt="Powiększone zdjęcie">
                                <button class="lightbox-next-btn" style="position:absolute;right:30px;top:50%;transform:translateY(-50%);font-size:2rem;background:none;border:none;color:white;cursor:pointer;">&#10095;</button>
                                <button class="lightbox-close-btn" style="position:absolute;top:20px;right:30px;font-size:2rem;background:none;border:none;color:white;cursor:pointer;">&times;</button>
                            `;
                            document.body.appendChild(lightbox);
                        }
                        const lightboxImage = lightbox.querySelector('#lightbox-image');
                        const lightboxCloseBtn = lightbox.querySelector('.lightbox-close-btn');
                        const lightboxPrevBtn = lightbox.querySelector('.lightbox-prev-btn');
                        const lightboxNextBtn = lightbox.querySelector('.lightbox-next-btn');
                        let currentIndex = idx;

                        function showImage(index) {
                            lightboxImage.src = images[index].src;
                        }
                        showImage(currentIndex);

                        lightbox.classList.add('visible');
                        lightbox.style.display = 'flex';

                        lightboxPrevBtn.onclick = function(e) {
                            e.stopPropagation();
                            currentIndex = (currentIndex - 1 + images.length) % images.length;
                            showImage(currentIndex);
                        };
                        lightboxNextBtn.onclick = function(e) {
                            e.stopPropagation();
                            currentIndex = (currentIndex + 1) % images.length;
                            showImage(currentIndex);
                        };

                        const closeLightbox = () => {
                            lightbox.classList.remove('visible');
                            lightbox.style.display = 'none';
                        };
                        lightboxCloseBtn.onclick = closeLightbox;
                        lightbox.onclick = function(e) {
                            if (e.target === lightbox) closeLightbox();
                        };
                        document.addEventListener('keydown', function escListener(e) {
                            if (e.key === 'Escape') {
                                closeLightbox();
                                document.removeEventListener('keydown', escListener);
                            }
                            if (e.key === 'ArrowLeft') {
                                lightboxPrevBtn.click();
                            }
                            if (e.key === 'ArrowRight') {
                                lightboxNextBtn.click();
                            }
                        });
                    });
                });
            });
        }
    </script>
</body>
<footer class="footer">
    <div class="nav-container">
        <p>&copy; 2025 TarnowskiDeveloper. Created by Piotr Cebula. Wszelkie prawa zastrzeżone.</p>
    </div>
</footer>
</html>